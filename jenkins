pipeline {
    agent any
    tools {
        nodejs 'node'
    }
    stages {
        stage('Build') {
            steps {
                script {
                    bat 'npm install --force'
                }
            }
        }
        stage('Execute') {
            steps {
                script {
                    bat 'npm run UI'
                }
            }
        }
        stage('Generate HTML report') {
            steps {
                cucumber-reports fileIncludePattern: '**/*.json', sortingMethod: 'ALPHABETICAL', trendsLimit: 10, classifications: [[key: 'Browser', value: 'Firefox']]
            }
        }
    }
}
