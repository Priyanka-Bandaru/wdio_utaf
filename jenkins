pipeline {
    agent any
    tools{
      nodejs 'node'
    }
    stages {
        stage('Build') {
            steps {
                script {
                    bat 'npm install --force'
                }
            }
        }
        stage('Execute') {
            steps {
                script {
                    bat 'npm run UI'
                }
            }
        }
        stage('Generate HTML report') {
        cucumber buildStatus: 'UNSTABLE',
                reportTitle: 'My report',
                fileIncludePattern: '**/*.json',
                trendsLimit: 10,
                classifications: [
                    [
                        'key': 'Browser',
                        'value': 'Firefox'
                    ]
                ]
    }
    }
   
}
